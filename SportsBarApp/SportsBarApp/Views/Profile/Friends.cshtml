@model SportsBarApp.Models.ViewModels.ProfileViewModel
@{
    Layout = "~/Views/Shared/_LayoutMyProfile.cshtml";
}

@if (Model.IsThisUser)
{
    <div class="col-md-6 profile-links">
        <a href="#friends" class="friends-links clicked">FRIENDS</a>
        <a href="#pending-requests" class="friends-links not-clicked">FRIENDSHIP REQUESTS</a>        
    </div>
}
else
{
    <div class="col-md-6 text-center">FRIENDS</div>
}
<div id="pending-requests" class="friends-window hidden">   
    <ul>
        @foreach(var item in Model.PendingRequests)
        {
            <li>@item.FirstName @item.LastName <text>requests friendship </text>@Html.ActionLink("Accept", "", "") | @Html.ActionLink("Ignore", "", "")</li>
        }
    </ul>
</div>

<div id="friends" class="friends-window">
    
    <ul>
        @foreach (var item in Model.PendingRequests)
        {
            <li>@item.FirstName @item.LastName <text>requests friendship </text>@Html.ActionLink("Accept", "", "") | @Html.ActionLink("Ignore", "", "")</li>
        }
    </ul>
</div>

@section scripts{
    <script src="~/Scripts/jquery.signalR-2.2.2.min.js"></script>
    <!--Reference the autogenerated SignalR hub script. -->
    <script src="~/signalr/hubs"></script> 
    <script src="~/Scripts/friendConnection.js"></script>
    <script type="text/javascript">
        $(function () {
            $('.friends-links').click(function () {
                var self = $(this);                
                $('.friends-links').each(function (i, el) { 
                    $(el).toggleClass('not-clicked');
                    $(el).toggleClass('clicked');
                    var link = $(el).attr('href');
                    $(link).toggleClass('hidden');                    
                });
                    
              
            });

        })
    </script>
}








